{% extends "layouts/layout_app.html" %}

{% block content %}
    {{ super() }}
    <div class="container mt-2">
        <h4 class="mb-2 pb-2" style="border-bottom: #CCCCCC solid 1px;">Rangliste</h4>
        <ul class="nav nav-tabs nav-fill nav-justified mb-4 mt-4" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
              <a class="nav-link active" id="ewig-tab" data-toggle="tab" href="#ewig" role="tab" aria-controls="ewig" aria-selected="true">Ewig</a>
            </li>
            {% for year in  years%}
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="year{{year}}-tab" data-toggle="tab" href="#year{{year}}" role="tab" aria-controls="year{{year}}" aria-selected="false">{{year}}</a>
                </li>
            {% endfor %}
        </ul>
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="ewig" role="tabpanel" aria-labelledby="ewig-tab">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Spieler</th>
                                <th>Punkte</th>
                                <th>Spiele</th>
                                <th style="font-size: 20px;">Ø</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for rank, values in player_statistics['ewig'].items() %}
                                <tr>
                                    <td>{{values["player"].name}}</td>
                                    <td>{{values["total_points"]}}</td>
                                    <td>{{values["total_batches"]}}</td>
                                    <td>{{values["ratio"]}}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            {% for year in years %}
                <div class="tab-pane fade" id="year{{year}}" role="tabpanel" aria-labelledby="year{{year}}-tab">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Spieler</th>
                                    <th>Punkte</th>
                                    <th>Spiele</th>
                                    <th style="font-size: 20px;">Ø</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for rank, values in player_statistics[year].items() %}
                                    <tr>
                                        <td>{{values["player"].name}}</td>
                                        <td>{{values["total_points"]}}</td>
                                        <td>{{values["total_batches"]}}</td>
                                        <td>{{values["ratio"]}}</td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock content %}

{% block scripts %}

{% endblock scripts %}